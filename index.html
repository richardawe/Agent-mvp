<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Daily Planner - Plan Your Perfect Day</title>
  <link rel="stylesheet" href="style.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
</head>
<body>
  <div class="background-gradient"></div>
  <div class="container">
    <header class="header">
      <div class="logo">
        <svg width="40" height="40" viewBox="0 0 40 40" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="20" cy="20" r="18" fill="url(#gradient)" opacity="0.2"/>
          <path d="M20 8V20L26 26" stroke="url(#gradient)" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
          <circle cx="20" cy="20" r="16" stroke="url(#gradient)" stroke-width="2"/>
          <defs>
            <linearGradient id="gradient" x1="0" y1="0" x2="40" y2="40">
              <stop offset="0%" stop-color="#667eea"/>
              <stop offset="100%" stop-color="#764ba2"/>
            </linearGradient>
          </defs>
        </svg>
        <h1>AI Planner</h1>
      </div>
      <p class="tagline">Your intelligent assistant for a perfectly planned day</p>
      <div id="locationDisplay" class="location-display" style="display: none;">
        <span class="location-icon">üìç</span>
        <span id="locationText">Loading location...</span>
      </div>
    </header>

    <div class="action-section">
      <div class="hub-buttons">
        <button id="runAgent" class="cta-button">
          <span class="button-icon">‚ú®</span>
          <span class="button-text">Plan My Day</span>
          <span class="button-shine"></span>
        </button>
        <button id="runValentine" class="cta-button valentine-button">
          <span class="button-icon">üíï</span>
          <span class="button-text">Plan my Valentine Day</span>
          <span class="button-shine"></span>
        </button>
      </div>
      <p class="hint">Powered by AI ‚Ä¢ Weather-aware ‚Ä¢ Location-based</p>
    </div>

    <!-- Queue Status Indicator (Hidden initially) -->
    <div id="queueStatus" class="queue-status" style="display: none;">
      <div class="queue-status-content">
        <div class="queue-icon">‚è≥</div>
        <div class="queue-info">
          <p class="queue-title">Processing your request...</p>
          <p class="queue-message" id="queueMessage">Please wait, this may take a moment due to high demand.</p>
          <div class="queue-progress">
            <div class="queue-progress-bar">
              <div class="queue-progress-fill" id="queueProgressFill"></div>
            </div>
            <span class="queue-position" id="queuePosition">Queue position: -</span>
          </div>
        </div>
      </div>
    </div>

    <!-- Progress Indicator (Hidden initially) -->
    <div id="progressIndicator" class="progress-indicator" style="display: none;">
      <div class="progress-bar">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <p class="progress-text"><span id="progressCount">0</span> / 5 time periods complete</p>
    </div>

    <!-- Plan Grid Container -->
    <div id="planGrid" class="plan-grid" style="display: none;">
      <!-- Cards will be generated dynamically -->
    </div>

    <!-- Valentine's Day Plan Container -->
    <div id="valentinePlan" class="valentine-container" style="display: none;">
      <div class="valentine-header">
        <h2>üíï Your Perfect Valentine's Day Plan</h2>
        <p id="valentineLocation" class="valentine-location">Loading location...</p>
      </div>
      
      <div class="valentine-sections">
        <!-- Romantic Poems Section -->
        <div id="valentinePoems" class="valentine-section">
          <div class="valentine-section-header">
            <h3>üíå Romantic Poems</h3>
          </div>
          <div class="valentine-section-content" id="poemsContent">
            <p class="loading-text">Generating romantic poems...</p>
          </div>
        </div>

        <!-- Restaurants Section -->
        <div id="valentineRestaurants" class="valentine-section">
          <div class="valentine-section-header">
            <h3>üçΩÔ∏è Romantic Restaurants</h3>
            <button id="viewRestaurantLocations" class="view-locations-btn" style="display: none;" title="View all restaurant locations">
              <span class="button-icon">üìç</span>
              <span class="button-text">View Locations</span>
            </button>
          </div>
          <div class="valentine-section-content" id="restaurantsContent">
            <p class="loading-text">Finding perfect dining spots...</p>
          </div>
        </div>

        <!-- Activities Section -->
        <div id="valentineActivities" class="valentine-section">
          <div class="valentine-section-header">
            <h3>üé≠ Romantic Activities</h3>
            <button id="viewActivityLocations" class="view-locations-btn" style="display: none;" title="View all activity locations">
              <span class="button-icon">üìç</span>
              <span class="button-text">View Locations</span>
            </button>
          </div>
          <div class="valentine-section-content" id="activitiesContent">
            <p class="loading-text">Planning special activities...</p>
          </div>
        </div>

        <!-- Booking Tips Section -->
        <div id="valentineBooking" class="valentine-section">
          <div class="valentine-section-header">
            <h3>üìã Booking Guide & Tips</h3>
          </div>
          <div class="valentine-section-content" id="bookingContent">
            <p class="loading-text">Preparing booking instructions...</p>
          </div>
        </div>
      </div>
    </div>

    <!-- Info Cards (Clothing, Social Activities & Events) -->
    <div id="infoCards" class="info-cards-container" style="display: none;">
      <div id="clothingCard" class="info-card">
        <div class="info-card-header">
          <h3>üëî Clothing Recommendation</h3>
        </div>
        <div class="info-card-content" id="clothingContent">
          <p>Loading...</p>
        </div>
      </div>
      <div id="socialCard" class="info-card">
        <div class="info-card-header">
          <h3>üé≠ Social Activities in <span id="socialCityName">Your City</span></h3>
        </div>
        <div class="info-card-content" id="socialContent">
          <p>Loading...</p>
        </div>
      </div>
      <div id="eventsCard" class="info-card">
        <div class="info-card-header">
          <h3>üì∞ Local Events & News in <span id="eventsCityName">Your City</span></h3>
        </div>
        <div class="info-card-content" id="eventsContent">
          <p>Loading...</p>
        </div>
      </div>
    </div>

    <!-- Modify Plan Button (Floating) -->
    <button id="modifyPlanBtn" class="modify-plan-btn" style="display: none;" aria-label="Modify Plan">
      <span class="button-icon">üéØ</span>
      <span class="button-text">Modify Plan</span>
    </button>

    <!-- Locations Modal -->
    <div id="locationsModal" class="modal" style="display: none;">
      <div class="modal-backdrop" id="locationsModalBackdrop"></div>
      <div class="modal-content locations-modal-content">
        <div class="modal-header">
          <h2 id="locationsModalTitle">üìç Locations</h2>
          <button class="modal-close" id="locationsModalClose" aria-label="Close Modal">√ó</button>
        </div>
        <div class="modal-body">
          <div id="locationsList" class="locations-list">
            <!-- Locations will be populated here -->
          </div>
        </div>
      </div>
    </div>

    <!-- Modify Plan Modal -->
    <div id="modifyModal" class="modal" style="display: none;">
      <div class="modal-backdrop" id="modalBackdrop"></div>
      <div class="modal-content">
        <div class="modal-header">
          <h2>üéØ Modify Your Plan</h2>
          <button class="modal-close" id="modalClose" aria-label="Close Modal">√ó</button>
        </div>
        
        <div class="modal-body">
          <div class="modal-status" id="modalStatus">
            <p><strong>Location:</strong> <span id="modalLocation">-</span></p>
            <p><strong>Weather:</strong> <span id="modalWeather">-</span></p>
          </div>

          <div class="modal-options">
            <div class="modal-option-group">
              <label>
                <input type="radio" name="modifyType" value="all" checked id="modifyAll">
                <span>Modify Entire Plan</span>
              </label>
              <label>
                <input type="radio" name="modifyType" value="block" id="modifyBlock">
                <span>Modify Specific Block</span>
              </label>
              <label>
                <input type="radio" name="modifyType" value="location" id="modifyLocation">
                <span>Change Location</span>
              </label>
            </div>

            <div id="blockSelector" class="block-selector" style="display: none;">
              <label for="blockSelect">Select Time Block:</label>
              <select id="blockSelect" class="block-select">
                <option value="0">Early Morning (06:00-09:00)</option>
                <option value="1">Mid Morning (09:00-12:00)</option>
                <option value="2">Afternoon (12:00-15:00)</option>
                <option value="3">Late Afternoon (15:00-18:00)</option>
                <option value="4">Evening (18:00-21:00)</option>
              </select>
            </div>

            <div id="locationInput" class="location-input-group" style="display: none;">
              <label for="newLocation">New City Name:</label>
              <input type="text" id="newLocation" class="location-input" placeholder="e.g., Paris, New York, Tokyo...">
            </div>
          </div>

          <div class="modal-instruction-section">
            <label for="instructionInput">Your Instructions:</label>
            <textarea 
              id="instructionInput" 
              class="instruction-input" 
              placeholder="e.g., Make it more active, focus on indoor activities, make evening more social, prefer free activities, add more cultural activities..."
              rows="4"
            ></textarea>
          </div>

          <div class="instruction-examples">
            <span class="examples-label">Quick Options:</span>
            <button class="example-chip" data-example="Make it more active and energetic">More active</button>
            <button class="example-chip" data-example="Focus on indoor activities only">Indoor only</button>
            <button class="example-chip" data-example="Make evening more social">Social evening</button>
            <button class="example-chip" data-example="Prefer free or low-cost activities">Budget-friendly</button>
            <button class="example-chip" data-example="Add more relaxation and self-care time">More relaxation</button>
            <button class="example-chip" data-example="Include cultural and historical sites">Cultural focus</button>
          </div>
        </div>

        <div class="modal-footer">
          <button id="stopGeneration" class="modal-btn stop-btn" style="display: none;">
            <span class="button-icon">‚èπÔ∏è</span>
            <span class="button-text">Stop Generation</span>
          </button>
          <button id="applyInstruction" class="modal-btn apply-btn">
            <span class="button-icon">üîÑ</span>
            <span class="button-text">Apply Changes</span>
          </button>
          <button class="modal-btn cancel-btn" id="modalCancel">Cancel</button>
        </div>
      </div>
    </div>

    <footer class="footer">
      <p>Built with ‚ù§Ô∏è using AI & Real-time Data</p>
    </footer>
  </div>
  
  <script src="app.js?v=20260110"></script>
</body>
</html>
